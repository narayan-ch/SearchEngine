{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Google/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Google/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/Google/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{FaSistrix,FaMicrophone}from\"react-icons/fa\";import{key,cx}from'../API';import axios from\"axios\";import Show from\"./Show\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(props){var goBack=function goBack(){props.history.push(\"/\");};var _React$useState=React.useState(props.location.state?props.location.state:\"\"),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),results=_React$useState4[0],setResults=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),info=_React$useState6[0],setInfo=_React$useState6[1];var searchGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.get(\"https://www.googleapis.com/customsearch/v1?key=\".concat(key,\"&cx=\").concat(cx,\"&q={\").concat(state,\"}\"));case 4:response=_context.sent;if(response){setResults(response.data.items);setInfo(response.data.searchInformation);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function searchGoogle(_x){return _ref.apply(this,arguments);};}();React.useEffect(function(){function getPosts(){return _getPosts.apply(this,arguments);}function _getPosts(){_getPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!props.location.state){_context2.next=11;break;}_context2.prev=1;_context2.next=4;return axios.get(\"https://www.googleapis.com/customsearch/v1?key=\".concat(key,\"&cx=\").concat(cx,\"&q={\").concat(state,\"}\"));case 4:response=_context2.sent;if(response){setResults(response.data.items);setInfo(response.data.searchInformation);}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return _getPosts.apply(this,arguments);}getPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search__form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search__form-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png\",alt:\"\",onClick:goBack})}),/*#__PURE__*/_jsx(\"div\",{className:\"search__form-input\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"home__form\",onSubmit:searchGoogle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"home__input\",value:state,onChange:function onChange(e){return setState(e.target.value);},required:true}),/*#__PURE__*/_jsx(FaSistrix,{className:\"search__icon\"}),/*#__PURE__*/_jsx(FaMicrophone,{className:\"microphone\"})]})})]}),/*#__PURE__*/_jsx(Show,{results:results,info:info})]});};export default Search;","map":{"version":3,"sources":["D:/Projects/Google/src/Components/Search.js"],"names":["React","FaSistrix","FaMicrophone","key","cx","axios","Show","Search","props","goBack","history","push","useState","location","state","setState","results","setResults","info","setInfo","searchGoogle","e","preventDefault","get","response","data","items","searchInformation","console","log","useEffect","getPosts","target","value"],"mappings":"wZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,YAApB,KAAwC,gBAAxC,CACA,OAASC,GAAT,CAAcC,EAAd,KAAwB,QAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFACA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACnB,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBD,KAAK,CAACE,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAFD,CADmB,oBAIOX,KAAK,CAACY,QAAN,CACtBJ,KAAK,CAACK,QAAN,CAAeC,KAAf,CAAuBN,KAAK,CAACK,QAAN,CAAeC,KAAtC,CAA8C,EADxB,CAJP,oDAIZA,KAJY,qBAILC,QAJK,0CAOWf,KAAK,CAACY,QAAN,CAAe,EAAf,CAPX,qDAOZI,OAPY,qBAOHC,UAPG,0CAQKjB,KAAK,CAACY,QAAN,CAAe,EAAf,CARL,qDAQZM,IARY,qBAQNC,OARM,qBASnB,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,+HACjBA,CAAC,CAACC,cAAF,GADiB,sCAGUjB,CAAAA,KAAK,CAACkB,GAAN,0DAA4DpB,GAA5D,gBAAsEC,EAAtE,gBAA+EU,KAA/E,MAHV,QAGPU,QAHO,eAKb,GAAIA,QAAJ,CAAc,CAEVP,UAAU,CAACO,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAV,CACAP,OAAO,CAACK,QAAQ,CAACC,IAAT,CAAcE,iBAAf,CAAP,CACH,CATY,+EAYbC,OAAO,CAACC,GAAR,cAZa,oEAAH,kBAAZT,CAAAA,YAAY,4CAAlB,CAeApB,KAAK,CAAC8B,SAAN,CAAgB,UAAM,SACHC,CAAAA,QADG,kIAClB,yJACQvB,KAAK,CAACK,QAAN,CAAeC,KADvB,mEAGmCT,CAAAA,KAAK,CAACkB,GAAN,0DAA4DpB,GAA5D,gBAAsEC,EAAtE,gBAA+EU,KAA/E,MAHnC,QAGkBU,QAHlB,gBAKY,GAAIA,QAAJ,CAAc,CAEVP,UAAU,CAACO,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAV,CACAP,OAAO,CAACK,QAAQ,CAACC,IAAT,CAAcE,iBAAf,CAAP,CACH,CATb,mFAYYC,OAAO,CAACC,GAAR,eAZZ,sEADkB,2CAkBlBE,QAAQ,GACX,CAnBD,CAmBG,EAnBH,EAoBA,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,YAAK,GAAG,CAAC,mFAAT,CAA6F,GAAG,CAAC,EAAjG,CAAoG,OAAO,CAAEtB,MAA7G,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,oBAAf,uBACI,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAEW,YAAvC,wBAEI,cAAO,IAAI,CAAC,MAAZ,CACI,SAAS,CAAC,aADd,CAEI,KAAK,CAAEN,KAFX,CAGI,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,QAAQ,CAACM,CAAC,CAACW,MAAF,CAASC,KAAV,CAAf,EAHd,CAII,QAAQ,KAJZ,EAFJ,cAQI,KAAC,SAAD,EAAW,SAAS,CAAC,cAArB,EARJ,cASI,KAAC,YAAD,EAAc,SAAS,CAAC,YAAxB,EATJ,GADJ,EAJJ,GADJ,cAmBI,KAAC,IAAD,EAAM,OAAO,CAAEjB,OAAf,CAAwB,IAAI,CAAEE,IAA9B,EAnBJ,GADJ,CAuBH,EAED,cAAeX,CAAAA,MAAf","sourcesContent":["import React from 'react'\r\nimport { FaSistrix, FaMicrophone } from \"react-icons/fa\";\r\nimport { key, cx } from '../API';\r\nimport axios from \"axios\"\r\nimport Show from \"./Show\"\r\nfunction Search(props) {\r\n    const goBack = () => {\r\n        props.history.push(\"/\");\r\n    };\r\n    const [state, setState] = React.useState(\r\n        props.location.state ? props.location.state : \"\"\r\n    );\r\n    const [results, setResults] = React.useState([]);\r\n    const [info, setInfo] = React.useState('');\r\n    const searchGoogle = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.get(`https://www.googleapis.com/customsearch/v1?key=${key}&cx=${cx}&q={${state}}`\r\n            );\r\n            if (response) {\r\n\r\n                setResults(response.data.items);\r\n                setInfo(response.data.searchInformation);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    };\r\n    React.useEffect(() => {\r\n        async function getPosts() {\r\n            if (props.location.state) {\r\n                try {\r\n                    const response = await axios.get(`https://www.googleapis.com/customsearch/v1?key=${key}&cx=${cx}&q={${state}}`\r\n                    );\r\n                    if (response) {\r\n\r\n                        setResults(response.data.items);\r\n                        setInfo(response.data.searchInformation);\r\n                    }\r\n\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n\r\n            }\r\n        }\r\n        getPosts();\r\n    }, [])\r\n    return (\r\n        <div className=\"search\">\r\n            <div className=\"search__form\">\r\n                <div className=\"search__form-logo\">\r\n                    <img src=\"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png\" alt=\"\" onClick={goBack} />\r\n                </div>\r\n                <div className=\"search__form-input\" >\r\n                    <form className=\"home__form\" onSubmit={searchGoogle}>\r\n\r\n                        <input type=\"text\"\r\n                            className=\"home__input\"\r\n                            value={state}\r\n                            onChange={(e) => setState(e.target.value)}\r\n                            required\r\n                        />\r\n                        <FaSistrix className=\"search__icon\" />\r\n                        <FaMicrophone className=\"microphone\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <Show results={results} info={info} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}